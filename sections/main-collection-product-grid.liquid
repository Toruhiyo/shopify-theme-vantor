<section class="vantor-section">
  <div class="page-width">
    <h1>{{ collection.title }}</h1>
    {% if collection.description != blank %}
      <p style="margin-top: 0.5rem;">{{ collection.description }}</p>
    {% endif %}

    <form data-filter-form>
      <div class="collection-controls">
        <div class="filter-form">
          {% for filter in collection.filters %}
            {% if filter.type == 'list' %}
              {% for value in filter.values limit: 8 %}
                <label class="filter-chip">
                  <input
                    type="checkbox"
                    name="{{ value.param_name }}"
                    value="{{ value.value }}"
                    {% if value.active %}checked{% endif %}
                  >
                  {{ value.label }}
                </label>
              {% endfor %}
            {% endif %}
          {% endfor %}
        </div>

        <div>
          <label for="SortBy">Sort</label>
          <select id="SortBy" name="sort_by">
            {% for option in collection.sort_options %}
              <option value="{{ option.value }}" {% if option.value == collection.sort_by %}selected{% endif %}>
                {{ option.name }}
              </option>
            {% endfor %}
          </select>
        </div>
      </div>
    </form>

    {% paginate collection.products by 24 %}
      <div class="vantor-grid featured-grid">
        {% for product in collection.products %}
          {% render 'product-card', card_product: product, show_quick_add: true %}
        {% else %}
          <p>No products found.</p>
        {% endfor %}
      </div>

      {% if paginate.pages > 1 %}
        <div style="margin-top: 1.5rem;">
          {{ paginate | default_pagination }}
        </div>
      {% endif %}
    {% endpaginate %}
  </div>
</section>

{% schema %}
{
  "name": "Main collection product grid",
  "settings": []
}
{% endschema %}
